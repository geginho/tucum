(function(t){var a=Math.PI,e=a/2,r="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,i="ontouchstart"in window,n={backward:["bl","tl"],forward:["br","tr"],all:["tl","bl","tr","br"]},s,o={page:1,shadows:true,duration:600,acceleration:true,force_open:false},f={back:null,corners:"forward",cornerSize:100,shadows:true,duration:600,acceleration:true,force_open:false},h=function(t,a,e,r){return{css:{position:"absolute",top:t,left:a,overflow:r||"hidden","z-index":e||"auto"}}},l=function(t,a,e,r,i){var n=1-i,s=n*n*n;mu3=i*i*i;return g(Math.round(s*t.x+3*i*n*n*a.x+3*i*i*n*e.x+mu3*r.x),Math.round(s*t.y+3*i*n*n*a.y+3*i*i*n*e.y+mu3*r.y))},c=function(t){return t/180*a},d=function(t){return t/a*180},g=function(t,a){return{x:t,y:a}},u=function(t,a,e){return r&&e?" translate3d("+t+"px,"+a+"px, 0px) ":" translate("+t+"px, "+a+"px) "},v=function(t){return" rotate("+t+"deg) "},b={updateOptions:function(a,e){e=typeof e!=="undefined"?e:{};var r=this.data(),i=r.pages;for(var n in i){i[n].data().pageFlip.opt=t.extend(i[n].data().pageFlip.opt,a,e)}r.opt=t.extend(r.opt,a)},updatePageOptions:function(a){var e=this.data(),r=e.pages;for(var i in r){r[i].data().pageFlip.opt=t.extend(r[i].data().pageFlip.opt,a)}},init:function(a){var e,n,s=this.data(),p=this.children(),f=p.length;a=t.extend({width:this.width(),height:this.height()},o,a);s.opt=a;s.pageObjs={};s.pages={};s.pageWrap={};s.pagePlace={};s.pageMv=[];s.totalPages=f;this.css({position:"relative"});if(r&&!i&&a.acceleration)this.transform(u(0,0,true));for(e=1;e<=f;e++){s.pagePlace[e]=e;s.pageObjs[e]=t(p[e-1]).addClass("turn-page p"+e);s.pageWrap[e]=t("<div/>",{"class":"turn-page-wrapper",css:{position:"absolute"}}).attr("page",e).appendTo(this).prepend(s.pageObjs[e])}for(e=1;e<=f;e++){n=e%2==0;s.pages[e]=s.pageWrap[e].css(n?{top:0,left:0}:{top:0,right:0}).children(":first").flip({next:n?e-1:e+1,page:e,turn:this,force_open:a.force_open,duration:a.duration,acceleration:a.acceleration,corners:n?"backward":"forward",back:n?s.pageObjs[e-1]:s.pageObjs[e+1],backShadow:a.shadows&&e!=2&&e!=f-1,frontShadow:a.shadows}).bind("pressed",b._pressed).bind("released",b._released).bind("start",b._start).bind("end",b._end).bind("flip",b._flip)}if(a.force_open)a.page=Math.max(Math.min(a.page,s.totalPages-1),2);b.page.call(this,a.page);s.done=true;this.turn("size",a.width,a.height);return this},size:function(t,a){if(t&&a){var e=this.data(),r=t/2,i;this.css({width:t,height:a});for(i=1;i<=e.totalPages;i++){e.pageWrap[i].css({width:r,height:a});if(e.pages[i])e.pages[i].css({width:r,height:a})}this.turn("resize");return this}else{return{width:this.width(),height:this.height()}}},_visiblePages:function(t){var t=t||this.data().page;return t%2==0?[t,t+1]:[t-1,t]},_removeMv:function(t){var a,e=this.data();for(a=0;a<e.pageMv.length;a++){if(e.pageMv[a]==t){e.pageMv.splice(a,1);a--}}},_addMv:function(t){var a=this.data();b._removeMv.call(this,t);a.pageMv.push(t)},view:function(t){var a=this.data(),e=b._visiblePages.call(this,t);return[a.pages[e[0]]?e[0]:0,a.pages[e[1]]?e[1]:0]},stop:function(){var t=this.data(),a;t.pageMv=[];if(t.tpage){t.page=t.tpage;delete t["tpage"]}this.turn("update");for(a=1;a<=t.totalPages;a++){var e=t.pages[a].data(),r=e.pageFlip.opt;t.pages[a].flip("hideThumbIndex");w._moveBackPage.call(t.pages[a],null);t.pagePlace[r.next]=r.next;if(r.force){r.next=r.page%2==0?r.page-1:r.page+1;t.pages[a].flip("setBackPage",t.pageObjs[r.next]);delete r["force"]}}return this},page:function(t){var a=this.data(),e=this.turn("view");if(pg=a.pages[t]){if(!a.done||(!e[0]||t>=e[0])&&(!e[1]||t<=e[1])){a.tpage=t;this.turn("stop");this.trigger("turned",[t,pg])}else{a.tpage=t;this.turn("stop");var r,i,n=this.turn("view",t);if(e[1]&&t>e[1]){r=e[1];i=n[0]}else if(e[0]&&t<e[0]){r=e[0];i=n[1]}var s=a.pages[r].data().pageFlip.opt,o;a.tpage=i;if(s.next!=i){s.next=i;a.pagePlace[s.next]=s.page;s.force=true;w._moveBackPage.call(a.pages[r],false);a.pages[r].flip("setBackPage",a.pageObjs[i])}a.pages[r].flip("turnPage")}}else return e[0]||e[1];if(t&&a.opt.force_open)M(t,a.totalPages);return this},next:function(){if(!this.data().opt.force_open||this.data().opt.force_open&&!m(this.data().page,"next",this.data().totalPages))b._moveTo.call(this,1);return this},previous:function(){if(!this.data().opt.force_open||this.data().opt.force_open&&!m(this.data().page,"previous",this.data().totalPages))b._moveTo.call(this,-1);return this},_moveTo:function(t){var a,e=this.data(),r=b._visiblePages.call(this,e.tpage||e.page)[t==1?1:0],i=r+t,n=function(t){return e.pages[t].data().pageFlip};for(a=0;a<e.pageMv.length;a++){if(n(e.pageMv[a]).opt.force){this.turn("stop");break}}if(e.pages[i]){if(e.pages[i])if(e.pages[i].flip("moving")||e.pagePlace[r]==i){var s=n(i).opt;b._removeMv.call(this,s.pageMv);b._addMv.call(this,r);e.tpage=i;s.pageMv=r;e.pages[i].flip("hideThumbIndex",true);e.pages[r].trigger("flip");this.turn("update")}else{e.tpage=i;if(n(r).fwrapper.is(":visible")){var s=n(r).opt;b._removeMv.call(this,s.pageMv);b._addPage.call(e.pages[r])}e.pages[r].flip("turnPage")}}},_addPage:function(){var a=t(this).data().pageFlip.opt,e=a.turn,r=e.data();a.pageMv=a.page;b._addMv.call(e,a.pageMv);r.pagePlace[a.next]=a.page;e.turn("update")},_start:function(a){var e=t(this).data().pageFlip.opt;a.stopPropagation();b._addPage.call(this);e.turn.trigger("start",[e.page])},_end:function(a,e){a.stopPropagation();var r=t(this),i=r.data().pageFlip.opt,n=i.turn,s=n.data();if(e||s.tpage){if(s.tpage==i.next||s.pageMv.length==0){s.page=s.tpage||i.next;delete s["tpage"];n.turn("page",s.page)}if(i.force){i.next=i.page%2==0?i.page-1:i.page+1;r.flip("setBackPage",n.data().pageObjs[i.next]);delete i["force"]}}else{b._removeMv.call(n,i.pageMv);n.turn("update")}n.trigger("end",[i.page,this])},resize:function(){var t=this.data();for(p=1;p<=t.totalPages;p++)t.pages[p].flip("resize",true)},calculateZ:function(t){var a=this,e=this.data(),r,i,n,s,o,p=e.totalPages,f=t.length,h={pageZ:{},partZ:{},pageV:{}},l=function(t){return t.data().pageFlip.opt.next},c=function(t){var e=a.turn("view",t);if(e[0])h.pageV[e[0]]=true;if(e[1])h.pageV[e[1]]=true};var d=this.turn("view"),g=d[0]||d[1];for(var u=0;u<f;u++){r=t[u];i=l(e.pages[r]);n=e.pagePlace[r];c(r);c(i);s=e.pagePlace[i]==i?i:r;o=e.totalPages-Math.abs(g-s);h.pageZ[s]=o;h.partZ[n]=e.totalPages*2+Math.abs(g-s);if(s%2!=0&&e.pages[s-1]){o=o-(f-1);h.pageZ[s-1]=o}else if(s%2==0&&e.pages[s+1]){o=o-(s-1);h.pageZ[s+1]=o}if(o<p)p=o}for(var v in h.pageV){if(!h.pageZ[v]){h.pageZ[v]=--p}}return h},update:function(){var t,a=this.data();if(a.pageMv.length){var e=this.turn("calculateZ",a.pageMv),r=this.turn("view",a.tpage),i;if(a.pagePlace[r[0]]==r[0])i=r[0];else if(a.pagePlace[r[1]]==r[1])i=r[1];for(t=1;t<=a.totalPages;t++){a.pageWrap[t].css({display:e.pageV[t]?"":"none","z-index":e.pageZ[t]||0});a.pages[t].flip("z",e.partZ[t]||null);if(e.pageV[t])a.pages[t].flip("resize");if(a.tpage)a.pages[t].flip("disable",t!=i)}}else{var n,r=this.turn("view");for(t=1;t<=a.totalPages;t++){if(n=t==r[0]||t==r[1])a.pageWrap[t].css({"z-index":a.totalPages,display:""});else if(t==r[0]-2||t==r[1]+2)a.pageWrap[t].css({"z-index":a.totalPages-1,display:""});else a.pageWrap[t].css({"z-index":0,display:"none"});a.pages[t].flip("z",null);a.pages[t].flip("disable",!n)}}},_pressed:function(){var a,e=t(this),r=e.data().pageFlip,i=r.opt.turn,n=r.opt.page,s=i.data().pages;for(a in s)if(a!=n)s[a].flip("disable",true);return this.time=(new Date).getTime()},_released:function(a,e){var r=t(this),i=(new Date).getTime()-this.time,n=r.data().pageFlip;if(i<200||e.x<0||e.x>t(this).width()){a.stopPropagation();n.opt.turn.data().tpage=n.opt.next;n.opt.turn.turn("update");t(r).flip("turnPage")}},_flip:function(){var a=t(this).data().pageFlip.opt;a.turn.trigger("turning",[a.next])},disable:function(t){var a=this.data(),t=typeof t=="undefined"?true:t===true;for(p=1;p<=a.totalPages;p++)a.pages[p].flip("disable",t)}},w={init:function(a){if(a.shadows){a.frontShadow=true;a.backShadow=true}w.setData.call(this,{opt:t.extend({},f,a)});w._addEvents.call(this);w._addPageWrapper.call(this);return this},setData:function(a){var e=this.data();e.pageFlip=t.extend(e.pageFlip||{},a)},_cAllowed:function(){return n[this.data().pageFlip.opt.corners]||this.data().pageFlip.opt.corners},_cornerActivated:function(t){t=i?t.originalEvent.touches:[t];var a,e=this.data().pageFlip,r=e.parent.offset(),n=this.width(),o=this.height(),p=Math.max(0,t[0].pageX-r.left),f=Math.max(0,t[0].pageY-r.top),h=e.opt.cornerSize,l=w._cAllowed.call(this);if(!e.opt.back||p<=0||f<=0||p>=n||f>=o)a=false;else if(p<=h&&f<=h)a="tl";else if(p>=n-h&&f<=h)a="tr";else if(p<=h&&f>=o-h)a="bl";else if(p>=n-h&&f>=o-h)a="br";else{return false}s=a;return jQuery.inArray(a,l)!=-1?{corner:a,x:p,y:f}:false},_c:function(t,a){a=a||0;return{tl:g(a,a),tr:g(this.width()-a,a),bl:g(a,this.height()-a),br:g(this.width()-a,this.height()-a)}[t]},_c2:function(t){return{tl:g(this.width()*2,0),tr:g(-this.width(),0),bl:g(this.width()*2,this.height()),br:g(-this.width(),this.height())}[t]},z:function(t){var a=this.data().pageFlip;a.opt["z-index"]=t;a.fwrapper.css({"z-index":t||parseInt(a.parent.css("z-index"))||0})},resize:function(t){var a=this.data().pageFlip,e=this.width(),r=this.height(),i=Math.round(Math.sqrt(Math.pow(e,2)+Math.pow(r,2)));if(t){a.wrapper.css({width:i,height:i});a.fwrapper.css({width:i,height:i}).children(":first-child").css({width:e,height:r});a.fpage.css({width:r,height:e});if(a.opt.frontShadow)a.ashadow.css({width:r,height:e});if(a.opt.backShadow)a.bshadow.css({width:e,height:r})}if(a.parent.is(":visible")){a.fwrapper.css({top:a.parent.offset().top,left:a.parent.offset().left});if(a.opt.turn)a.fparent.css({top:-a.opt.turn.offset().top,left:-a.opt.turn.offset().left})}this.flip("z",a.opt["z-index"])},_addPageWrapper:function(){var a,e=this.data().pageFlip,r=this.parent();if(!e.wrapper){var i=this.css("left"),n=this.css("top"),s=this.width(),o=this.height(),p=Math.round(Math.sqrt(Math.pow(s,2)+Math.pow(o,2)));e.parent=r;e.fparent=e.opt.turn?e.opt.turn.data().fparent:t("#turn-fwrappers");if(!e.fparent){var f=t("<div/>").hide();f.data().flips=0;if(e.opt.turn){f.css(h(-e.opt.turn.offset().top,-e.opt.turn.offset().left,"auto","visible").css).appendTo(e.opt.turn);e.opt.turn.data().fparent=f}else{f.css(h(0,0,"auto","visible").css).attr("id","turn-fwrappers").appendTo(t("body"))}e.fparent=f}this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"});e.wrapper=t("<div/>",h(0,0,this.css("z-index"))).appendTo(r).prepend(this);e.fwrapper=t("<div/>",h(r.offset().top,r.offset().left)).hide().appendTo(e.fparent);e.fpage=t("<div/>",{"class":"fpage",css:{cursor:"default"}}).appendTo(t("<div/>",h(0,0,0,"visible")).appendTo(e.fwrapper));if(e.opt.frontShadow)e.ashadow=t("<div/>",h(0,0,1)).appendTo(e.fpage);if(e.opt.backShadow)e.bshadow=t("<div/>",h(0,0,1)).css({position:""}).appendTo(r);w.setData.call(this,e);w.resize.call(this,true)}},_displayCorner:function(t){var r=this,i=0,n=0,s,o,p,f,h,l,c=g(0,0),b=g(0,0),x=g(0,0),m=this.width(),M=this.height(),_=Math.tan(n),y=this.data().pageFlip,P=y.opt.acceleration,k=y.wrapper.height(),F=w._c.call(this,t.corner),z=t.corner.substr(0,1)=="t",T=t.corner.substr(1,1)=="l",S=function(){var s=g(F.x?F.x-t.x:t.x,F.y?F.y-t.y:t.y),u=Math.atan2(s.y,s.x),v;n=e-u;i=d(n);v=g(T?m-s.x/2:t.x+s.x/2,s.y/2);var _=n-Math.atan2(v.y,v.x),P=Math.max(0,Math.sin(_)*Math.sqrt(Math.pow(v.x,2)+Math.pow(v.y,2)));x=g(P*Math.sin(n),P*Math.cos(n));if(n>e){x.x=x.x+Math.abs(x.y*Math.tan(u));x.y=0;if(Math.round(x.x*Math.tan(a-n))<M){t.y=Math.sqrt(Math.pow(M,2)+2*v.x*s.x);if(z)t.y=M-t.y;return S()}}o=Math.round(x.y/Math.tan(n)+x.x);if(T)o=m-o;var A=T?o:m-o,I=A*Math.cos(n*2),j=A*Math.sin(n*2),O=A*Math.sin(n),W=w._c2.call(r,t.corner),Z=Math.sqrt(Math.pow(W.x-t.x,2)+Math.pow(W.y-t.y,2));b=g(Math.round(o+(T?-I:I)),Math.round(z?j:M-j));l=Z<m?Z/m:1;if(n>e){var C=a-n,B=k-M/Math.sin(C);c=g(Math.round(B*Math.cos(C)),Math.round(B*Math.sin(C)));if(T)c.x=-c.x;if(z)c.y=-c.y}if(y.opt.frontShadow){h=O>100?(O-100)/O:0;p=g(O*Math.sin(e-n)/M*100,O*Math.cos(e-n)/m*100);if(z)p.y=100-p.y;if(T)p.x=100-p.x}if(y.opt.backShadow){f=g(O*Math.sin(n)/m*100,O*Math.cos(n)/M*100);if(!T)f.x=100-f.x;if(!z)f.y=100-f.y}x.x=Math.round(x.x);x.y=Math.round(x.y);return true},A=function(t,a,e,i){var n=["0","auto"],s=(m-k)*e[0]/100,o=(M-k)*e[1]/100,e=e[0]+"% "+e[1]+"%",d={left:n[a[0]],top:n[a[1]],right:n[a[2]],bottom:n[a[3]]};r.css(d).transform(v(i)+u(t.x,t.y,P),e);y.fpage.parent().css(d);y.wrapper.transform(u(-t.x+s,-t.y+o,P)+v(-i),e);y.fwrapper.transform(u(-t.x+c.x+s,-t.y+c.y+o,P)+v(-i),e);y.fpage.parent().transform(v(i)+u(t.x+b.x-c.x,t.y+b.y-c.y,P),e);if(y.opt.frontShadow)y.ashadow.css({"background-image":"-webkit-gradient(linear, "+(T?100:0)+"% "+(z?100:0)+"%, "+p.x+"% "+p.y+"%, color-stop("+h+",rgba(0,0,0,0)), color-stop("+((1-h)*.8+h)+",rgba(0,0,0,"+.2*l+")), to(rgba(255,255,255,"+.2*l+")) )"});if(y.opt.backShadow)y.bshadow.css({"background-image":"-webkit-gradient(linear, "+(T?0:100)+"% "+(z?0:100)+"%, "+f.x+"% "+f.y+"%,  color-stop(0.8,rgba(0,0,0,0)), color-stop(1, rgba(0,0,0,"+.2*l+")), to(rgba(0,0,0,0)) )"})};switch(t.corner){case"tl":t.x=Math.max(t.x,1);S();A(x,[1,0,0,1],[100,0],i);y.fpage.transform(u(-M,-m,P)+v((90-i*2).toFixed(4)),"100% 100%");y.opt.back.transform(v(90)+u(0,-M,P),"0% 0%");break;case"tr":t.x=Math.min(t.x,m-1);S();A(g(-x.x,x.y),[0,0,0,1],[0,0],-i);y.fpage.transform(u(0,-m,P)+v((-90+i*2).toFixed(4)),"0% 100%");y.opt.back.transform(v(270)+u(-m,0,P),"0% 0%");break;case"bl":t.x=Math.max(t.x,1);S();A(g(x.x,-x.y),[1,1,0,0],[100,100],-i);y.fpage.transform(u(-M,0,P)+v((-90+i*2).toFixed(4)),"100% 0%");y.opt.back.transform(v(270)+u(-m,0,P),"0% 0%");break;case"br":t.x=Math.min(t.x,m-1);S();A(g(-x.x,-x.y),[0,1,1,0],[0,100],i);y.fpage.transform(v((90-i*2).toFixed(4)),"0% 0%");y.opt.back.transform(v(90)+u(0,-M,P),"0% 0%");break}y.p=t},setBackPage:function(t){var a=this.data().pageFlip;a.opt.back=t;a.backParent=t.parent()},_moveBackPage:function(t){var a=this.data().pageFlip;if(a.opt.back){var e=navigator.userAgent;if(e.indexOf("Chrome/17.")!=-1||e.indexOf("Chrome/18.")!=-1){var r=a.opt.back.css("background-image");a.opt.back.css({"background-image":""}).css({"background-image":r})}if(t){if(!((a.ashadow?"1":"0")in a.fpage.children())){w.setData.call(this,{backParent:a.opt.back.parent()});a.fpage.prepend(a.opt.back)}}else{if(a.backParent)a.backParent.prepend(a.opt.back)}}},_showThumbIndex:function(t,a){var e=this.data(),r=e.pageFlip;if(r.opt.back){if(a){var i=this,n=r.p||w._c.call(this,t.corner,1);this.animatef({from:[n.x,n.y],to:[t.x,t.y],duration:500,frame:function(a){w._displayCorner.call(i,{corner:t.corner,x:a[0],y:a[1]})}})}else{w._displayCorner.call(this,t);if(e.effect&&!e.effect.turning)this.animatef(false)}if(!r.fwrapper.is(":visible")){r.fparent.show().data().flips++;w._moveBackPage.call(this,true);r.fwrapper.show();if(r.opt.backShadow)r.bshadow.show();this.trigger("start")}}},hide:function(){var t=this.data().pageFlip;if(--t.fparent.data().flips==0)t.fparent.hide();this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform("","0% 100%");t.wrapper.transform("","0% 100%");t.fwrapper.hide();if(t.opt.backShadow)t.bshadow.hide();t.opt.back.transform("","0% 0%")},hideThumbIndex:function(t){var a=this.data().pageFlip;if(!a.p)return;var e=this,r=a.p,i=function(){a.p=null;e.flip("hide");e.trigger("end",[false])};if(t){var n,s,o=w._c.call(this,r.corner),p=r.corner.substr(0,1)=="t",f=Math.abs((r.y-o.y)/2);n=g(r.x,r.y+f);s=g(o.x,p?o.y+f:o.y-f);this.animatef({from:0,to:1,frame:function(t){var a=l(r,n,s,o,t);a.corner=r.corner;w._displayCorner.call(e,a)},complete:i,duration:800,hiding:true})}else{this.animatef(false);i()}},turnPage:function(){var t=this,a=this.data().pageFlip,e=a.cornerActivated?a.cornerActivated.corner:w._cAllowed.call(this)[0],r=a.p||w._c.call(this,e),i=w._c2.call(this,e);if(a.opt.force_open)M(a.opt.next,a.opt.turn.data().totalPages);this.trigger("flip");this.animatef({from:0,to:1,frame:function(a){var n=l(r,r,i,i,a);n.corner=e;w._showThumbIndex.call(t,n)},complete:function(){t.trigger("end",[true])},duration:a.opt.duration,turning:true});a.cornerActivated=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},_addEvents:function(){var a=this,e=i?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"};t(document).bind(e.start,function(){return w._eventStart.apply(a,arguments)}).bind(e.move,function(){w._eventMove.apply(a,arguments)}).bind(e.end,function(){w._eventEnd.apply(a,arguments)})},_eventStart:function(t){var a=this.data().pageFlip;if(!a.disabled&&!this.flip("isTurning")){a.cornerActivated=w._cornerActivated.call(this,t);if(a.cornerActivated){w._moveBackPage.call(this,true);this.trigger("pressed",[a.p]);return false}}},_eventMove:function(t){var a=this.data(),e=a.pageFlip,t=i?t.originalEvent.touches:[t];if(!e.disabled)if(e.cornerActivated){var r=e.parent.offset();w._showThumbIndex.call(this,{corner:e.cornerActivated.corner,x:t[0].pageX-r.left,y:t[0].pageY-r.top})}else if(!a.effect&&!i){if(corner=w._cornerActivated.call(this,t[0])){var n=w._c.call(this,corner.corner,e.opt.cornerSize/2);w._showThumbIndex.call(this,{corner:corner.corner,x:n.x,y:n.y},true)}else w.hideThumbIndex.call(this,true)}},_eventEnd:function(){var t=this.data().pageFlip;if(!t.disabled&&t.cornerActivated){var a=jQuery.Event("released");this.trigger(a,[t.p]);if(!a.isPropagationStopped())w.hideThumbIndex.call(this,true)}t.cornerActivated=null},disable:function(t){w.setData.call(this,{disabled:t})}},x=function(t,a,e){if(!e[0]||typeof e[0]=="object")return a.init.apply(t,e);else if(a[e[0]]&&e[0].toString().substr(0,1)!="_")return a[e[0]].apply(t,Array.prototype.slice.call(e,1));else throw e[0]+" is an invalid value"};var m=function(t,a,e){var r=false;if(t<=3&&a=="previous")r=true;if(t+2>=e&&a=="next")r=true;return r};var M=function(t,a){if(t<=3){n={backward:[],forward:["tr","br"],all:["tr","br"]}}else if(t+2>=a){n={backward:["tl","bl"],forward:[],all:["tl","bl"]}}else{n={backward:["tl","bl"],forward:["tr","br"],all:["tl","bl","tr","br"]}}};t(window).on("rfbwp-update-corners",M);var _=function(){n={backward:[],forward:[],all:[]}};t(window).on("rfbwp-disable-corners",_);t.extend(t.fn,{flip:function(t,a){return x(this,w,arguments)},turn:function(t){return x(this,b,arguments)},activePageCorner:function(){return s},transform:function(t,a){if(a)this.css({"transform-origin":a,"-moz-transform-origin":a,"-o-transform-origin":a,"-webkit-transform-origin":a,"-ms-transform-origin":a});return this.css({transform:t,"-moz-transform":t,"-o-transform":t,"-webkit-transform":t,"-ms-transform":t})},animatef:function(t){var a=this.data();if(a.effect)clearInterval(a.effect.handle);if(t){if(!t.to.length)t.to=[t.to];if(!t.from.length)t.from=[t.from];if(!t.easing)t.easing=function(t,a,e,r,i){return r*Math.sqrt(1-(a=a/i-1)*a)+e};var e,r=[],i=t.to.length,n=this,s=t.fps||30,o=-s,p=function(){var e,p=[];o=Math.min(t.duration,o+s);for(e=0;e<i;e++)p.push(t.easing(1,o,t.from[e],r[e],t.duration));t.frame(i==1?p[0]:p);if(o==t.duration){clearInterval(a.effect.handle);delete a["effect"];n.data(a);if(t.complete)t.complete()}};for(e=0;e<i;e++)r.push(t.to[e]-t.from[e]);a.effect=t;a.effect.handle=setInterval(p,s);this.data(a);p()}else{delete a["effect"]}}});t.has3d=r;t.isTouch=i})(jQuery);